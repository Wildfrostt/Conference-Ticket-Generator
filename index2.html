<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container2ndPage">
      <div class="logo">
        <img src="assets/images/logo-full.svg" alt="logo" />
      </div>
      <div class="title">
        <h1 id="ticketMessage">
          Congrats,
          <!-- Full Name -->! <br />
          Your ticket is ready.
        </h1>
        <p class="p-subheading2" id="emailMessage">
          We've emailed your ticket to <br />
          <!-- Email Address -->
          and will send updates in <br />
          the run up to the event.
        </p>
      </div>
      <div class="insideTicket">
        <div class="theBigOne" >
          <div class="theBigOneSub-1">
            <div class="sub1-1">
              <img src="assets/images/logo-mark.svg" alt="logo" />
              <h1>Coding Conf</h1>
            </div>
            <p class="sub1-2">Jan 31, 2025 /  Austin, TX</p>
          </div>

          <div class="theBigOneSub-2">
            <div>
              <img
                style="width: 80px; height: 80px; border-radius: 10px"
                src="assets/images/image-avatar.jpg"
                alt="avatar"
              />
            </div>
            <div>
              <div>
                <h2 id="insideTicketName"><!--userName--></h2>
              </div>
              <div class="emailGithub">
                <img src="assets/images/icon-github.svg" alt="github icon" />
                <h3 id="insideTicketGitHub"><!--github--></h3>
              </div>
            </div>
          </div>
        </div>
        <div class="theSmallOne">
          <h2 class="lastDigits">60910#</h2>
        </div>
      </div>
    </div>

    <script>
      // Retrieve stored data
      const nameInput = localStorage.getItem("userName"); // Retrieve the name
      const emailInput = localStorage.getItem("userEmail"); // Retrieve the email
      const githubInput = localStorage.getItem("userGitHub");

      // Reference DOM elements
      const ticketMessage = document.getElementById("ticketMessage");
      const emailMessage = document.getElementById("emailMessage");
      const insideTicketName = document.getElementById("insideTicketName");
      const insideTicketGitHub = document.getElementById("insideTicketGitHub");

      // Handle name and email separately
      if (nameInput) {
        ticketMessage.innerHTML = `Congrats, <span class="outsiders">${nameInput}</span>! <br> Your ticket is ready.`;
        insideTicketName.innerHTML = `${nameInput}`;
      } else {
        ticketMessage.innerHTML =
          "No name found. Please go back to the first page and fill out the form.";
      }

      if (emailInput) {
        emailMessage.innerHTML = `We've emailed your ticket to <br> <span class="outsiders"><strong>${emailInput}</strong></span> and will send updates in <br> the run-up to the event.`;
        
      } else {
        emailMessage.innerHTML =
          "Email not provided. Please go back to the first page and enter your email.";
      }

      if (githubInput){
        insideTicketGitHub.innerHTML= `${githubInput}`;
      }else{
        insideTicketGitHub.innerHTML = "No Github username found.";
      }
    </script>

    <script src="script.js"></script>
  </body>
</html>
